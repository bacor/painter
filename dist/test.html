<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Test</title>
    <script>
      var P = {}


      P.Shape = function() {
        // Allow instantiation with or without 'new' keyword
        // http://jfire.io/blog/2013/03/20/newless-javascript/
        // http://ejohn.org/blog/simple-class-instantiation/
        if (!(this instanceof P.Shape)) return new P.Shape(arguments);

        this.x = 1;
        this.y = 1;
      }

      P.Shape.prototype.move = function(x,y) {
        this.x += x;
        this.y += y;
      }

      P.Rectangle = function() {
        if (!(this instanceof P.Rectangle)) return new P.Rectangle(arguments);
        P.Shape.apply(this, arguments);
      }

      P.Rectangle.prototype = Object.create(P.Shape.prototype);
      P.Rectangle.constructor = P.Rectangle();

      var R = P.Rectangle()
      console.log(R instanceof P.Rectangle)
      console.log(R instanceof P.Shape)
      console.log(R.x, R.y)
      R.move(2,4)
      console.log(R.x, R.y)

      // P.Class.extend = function() {
      //   var child = P.Class();
      //   // child.prototype = this.prototype;
      //   return child;
      // }

      // P.Shape = P.Class.extend()
      // P.Shape.prototype.name = 'bla'
      // 
       
      // var A = P.Shape();
      // console.log(A)
      // P.Rectangle = P.Shape.extend()
      // P.Rectangle.prototype.boe = 'blasdfasdf'
      // function(options) {
      //  // Allow instantiation with or without 'new' keyword
      //  // http://jfire.io/blog/2013/03/20/newless-javascript/
      //  // http://ejohn.org/blog/simple-class-instantiation/
      //   if (!(this instanceof P.Shape)) return new P.Shape(options);


      // }


      // var test = makeClass()

      // A = test()
      // B = new test()
      // A = new P.Rectangle();
      // console.log(A)
    </script>
  </head>
  <body>
  </body>
</html>